/* í°íŠ¸ ì •ì˜ */
@font-face {
    font-family: 'Binggrae';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/Binggrae.woff') format('woff');
    font-weight: normal; font-style: normal;
}
@font-face {
    font-family: 'Binggrae-Bold';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/Binggrae-Bold.woff') format('woff');
    font-weight: 700; font-style: normal;
}
:root{
  --accent:#2f8a58; 
  --accent2:#d4a024; 
  --font-title: 'Binggrae-Bold', 'Binggrae', sans-serif;
  --font-body: 'Binggrae', "Pretendard", sans-serif;
  --font-hand: "Nanum Pen Script", cursive;
}
*{box-sizing:border-box}
body{
  margin:0; font-family: var(--font-body);
  background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.4)), url('forest.jpeg');
  background-size: cover; background-position: center; background-attachment: fixed; background-repeat: no-repeat;
  color: #fff; min-height:100svh; display:flex; align-items:center; justify-content:center;
  padding:16px; overflow-x:hidden; -webkit-tap-highlight-color: transparent; letter-spacing: -0.02em;
}
.wrap{width:min(720px, 100%)}
.card{
  --text: #4e342e; --muted: #8d6e63; --border: rgba(0,0,0,0.1);
  background: rgba(255, 255, 255, 0.96); border:1px solid rgba(255,255,255,0.6);
  border-radius:24px; padding: 24px; 
  box-shadow: 0 10px 40px rgba(0,0,0,.25); backdrop-filter: blur(12px);
  min-height: 600px; height: auto; display: flex; flex-direction: column; color: var(--text); position: relative;
}
header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 16px; gap: 8px; }
.header-left { flex: 1; min-width: 0; } 
.header-right { display: flex; align-items: center; gap: 6px; flex-shrink: 0; }
h1 { font-family: var(--font-title); font-size: 26px; margin: 0; letter-spacing: -0.5px; line-height: 1.3; color: #2e7d32; word-break: keep-all; }
.sub { color: var(--muted); font-size: 15px; margin-top: 6px; line-height: 1.4; word-break: keep-all; }
.pill{ display:inline-flex; align-items:center; gap:8px; padding:6px 12px; border-radius:999px; border:1px solid var(--border); color: #5d4037; font-size:13px; white-space:nowrap; background: rgba(255,255,255,0.6); }
.icon-btn { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; background: #fff; border: 1px solid var(--border); border-radius: 50%; color: var(--accent); cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: all 0.2s ease; }
.icon-btn svg { width: 18px; height: 18px; }
.bar{ height:8px; border-radius:999px; background: rgba(0,0,0,.08); overflow:hidden; margin:10px 0 20px; }
.bar > div{ height:100%; width:0%; background: linear-gradient(90deg, #a5d6a7, #2f8a58); transition: width .3s ease; }
.btn{ border:1px solid var(--border); background: #fff; color: var(--text); padding:14px 16px; border-radius:16px; cursor:pointer; font-size:16px; transition: all .2s; font-family: var(--font-title); word-break: keep-all; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.btn:hover{ background: #f1f8e9; border-color: var(--accent); }
.btn.primary{ background: #e8f5e9; border-color: #a5d6a7; color: #1b5e20; }
.btn.capture { border-color: #4e342e; color: #fff; background: #4e342e; }
.btn.danger{ border-color: #ffccbc; color: #d84315; background: #fbe9e7; }
.btn.accent { background: #2f8a58; color: #fff; border: none; margin-top: 20px; padding: 16px; font-size: 17px; font-family: var(--font-title); }
.btn:disabled { opacity: 0.5; cursor: not-allowed; background: #eee; color: #aaa; border-color: #ddd; }
.menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
@media(max-width: 500px) { .menu-grid { grid-template-columns: 1fr; } }
.hero-btn { position: relative; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 220px; padding: 16px; border: 1px solid var(--border); border-radius: 24px; background: rgba(255,255,255,0.7); color: var(--text); cursor: pointer; text-align: center; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.03); text-decoration: none; }
.hero-btn:active { transform: scale(0.98); background: #fff; }
.hero-btn .icon-area { flex: 0 0 auto; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; }
.hero-btn svg { width: 64px; height: 64px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1)); }
.hero-btn .label { font-size: 19px; margin-bottom: 4px; color: #2e7d32; font-family: var(--font-title); }
.hero-btn .desc { font-size: 13px; color: var(--muted); line-height: 1.4; }
.tea-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.tea-btn { display: flex; flex-direction: column; align-items: center; gap: 8px; padding: 14px 8px; border: 1px solid var(--border); border-radius: 20px; background: rgba(255,255,255,0.6); color: var(--text); cursor: pointer; }
.tea-btn svg { width: 36px; height: 36px; }
.tea-btn span { font-size: 14px; font-family: var(--font-title); text-align: center; }
.q-title{ font-size:20px; margin:0 0 20px; line-height:1.45; font-family: var(--font-title); color: #2e7d32; word-break: keep-all; }
.choices{display:grid; gap:10px;}
button.choice{ text-align:left; width:100%; border-radius:18px; border:1px solid var(--border); background: #fff; color: var(--text); padding:18px; font-size:16px; cursor:pointer; font-family: var(--font-body); line-height: 1.4; word-break: keep-all; }
@media (hover: hover) { button.choice:hover { background: #f1f8e9; border-color: var(--accent); } }
button.choice.clicked { background: #e8f5e9; border-color: var(--accent); color: #1b5e20; font-family: var(--font-title); }
.pref-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; width: 100%; max-width: 340px; margin: 0 auto 20px; }
.pref-card { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 12px; background: #fff; border: 1px solid #eee; border-radius: 20px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.03); transition: all 0.15s ease-out; -webkit-user-select: none; user-select: none; outline: none; }
.pref-card.clicked { background-color: #e8f5e9 !important; border-color: var(--accent) !important; transform: scale(0.96); box-shadow: 0 0 0 2px rgba(47, 138, 88, 0.2); }
.pref-img { width: 100px; height: 100px; object-fit: contain; margin-bottom: 8px; pointer-events: none; }
.pref-name { font-size: 16px; font-family: var(--font-title); color: #3e2723; margin-bottom: 2px; pointer-events: none; }
.pref-desc { font-size: 11px; color: #8d6e63; text-align: center; word-break: keep-all; line-height: 1.2; pointer-events: none; }
.wide-btn { width: 100%; margin-top: 12px; padding: 16px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border); border-radius: 18px; background: #fff; color: var(--text); cursor: pointer; font-family: var(--font-title); }
.result .box{ border:1px solid #d7ccc8; border-radius:20px; padding: 24px; background: #fffaf0; margin-bottom: 14px; box-shadow: 0 4px 12px rgba(62, 39, 35, 0.05); word-break: keep-all; }
.tag{ display:inline-flex; padding:4px 10px; border-radius:999px; border:1px solid #a1887f; font-size:13px; color: #5d4037; margin-right:6px; margin-bottom: 6px; background: #fff; }
.oil-card { background: #fff; border-left: 5px solid var(--accent2); padding: 16px; margin-bottom: 12px; border-radius: 16px; box-shadow: 0 2px 6px rgba(0,0,0,0.04); color: #3e2723; display: flex; align-items: center; }
.oil-card.best { background: linear-gradient(135deg, #fff8e1 0%, #fff 100%); border: 2px solid var(--accent2); transform: scale(1.02); margin-bottom: 20px; box-shadow: 0 8px 24px rgba(212, 160, 36, 0.15); position: relative; }
.oil-card.best::after { content: 'ðŸ‘‘ Best Pick'; position: absolute; top: -12px; right: 12px; background: #d4a024; color: #fff; font-size: 12px; padding: 4px 10px; border-radius: 12px; font-family: var(--font-title); }
.persona-card { background: #efebe9; border: 1px dashed #a1887f; padding: 18px; border-radius: 16px; margin-bottom: 20px; text-align: center; }
.persona-title { color: #5d4037; font-size: 17px; margin-bottom: 8px; font-family: var(--font-title); }
.persona-desc { font-size: 15px; color: #4e342e; line-height: 1.6; word-break: keep-all; }
.empathy-msg { background: #e8f5e9; padding: 18px; border-radius: 16px; margin-bottom: 24px; text-align: center; font-size: 16px; font-weight: 600; line-height: 1.6; color: #1b5e20; word-break: keep-all; box-shadow: 0 2px 8px rgba(47, 138, 88, 0.1); }
.analysis-box { background:#fff; border:1px solid #d7ccc8; border-left:5px solid #2f8a58; border-radius:12px; padding:18px; margin-bottom:24px; text-align:left; }
.analysis-title { font-size: 18px; font-family: var(--font-title); color: #2f8a58; margin-bottom: 10px; display: flex; align-items: center; gap: 6px; }
.analysis-text { font-size: 16px; color: #4e342e; line-height: 1.65; word-break: keep-all; }
.recipe-intro-btn {
    display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 10px;
    padding: 24px; height: 160px;
    border: 1px solid var(--border); border-radius: 20px;
    background: #fff; color: var(--text); cursor: pointer; transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.03);
}
.recipe-intro-btn:hover { border-color: var(--accent); background: #f1f8e9; }
.recipe-intro-btn strong { font-size: 18px; color: #2e7d32; font-family: var(--font-title); }
.recipe-intro-btn span { font-size: 14px; color: var(--muted); line-height: 1.4; }
.selection-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 24px; }
.oil-select-item { 
    padding: 14px; border: 1px solid #d7ccc8; border-radius: 16px; 
    background: #fff; cursor: pointer; text-align: center; font-size: 15px; 
    transition: 0.2s; word-break: keep-all; font-family: var(--font-title); position: relative;
}
.oil-select-item.selected { background-color: var(--accent); color: white; border-color: var(--accent); }
.oil-select-item.ai-pick { background-color: #fff8e1; color: #d4a024; border-color: #d4a024; font-weight: bold; }
.oil-select-item.ai-pick::after { content: 'AI ì¶”ì²œ'; position: absolute; top: -6px; right: -6px; background: #d4a024; color: white; font-size: 10px; padding: 2px 6px; border-radius: 8px; }
.recipe-box { background: #e8f5e9; padding: 20px; border-radius: 20px; margin-bottom: 16px; border: 1px dashed var(--accent); }
.drop-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05); font-size: 16px;}
.footer{ margin-top:auto; padding-top:24px; display:flex; justify-content:space-between; flex-wrap:wrap; gap:10px; color: #8d6e63; font-size:12px; word-break: keep-all; line-height: 1.4; }
.nav { display:flex; justify-content:space-between; margin-top:24px; }
.hidden { display: none !important; }
.tiny { font-size: 13px; color: var(--muted); margin-bottom: 8px; }
.closing-q { text-align: center; margin-top: 24px; font-size: 19px; color: #5d4037; font-family: var(--font-hand); line-height: 1.4; }
.signature { text-align: right; margin-top: 12px; font-size: 22px; color: #8d6e63; font-family: var(--font-hand); }
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; z-index: 9999; backdrop-filter: blur(3px); }
.modal-box { background: white; width: 300px; padding: 24px; border-radius: 24px; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.4); }
.qr-img { width: 160px; height: 160px; margin: 0 auto 16px; display: block; }
.url-input { width: 100%; padding: 12px; margin-bottom: 12px; border: 1px solid #d7ccc8; border-radius: 12px; background: #f5f5f5; font-family: var(--font-body); }
@media(max-width: 480px) {
    body { padding: 12px; }
    .card { padding: 16px; min-height: 90svh; border-radius: 20px; }
    .result .box { padding: 20px 16px; }
    h1 { font-size: 22px; }
    .analysis-text { font-size: 16px !important; }
    .persona-desc { font-size: 16px !important; }
    .oil-card .scent-desc { font-size: 14px !important; }
}
